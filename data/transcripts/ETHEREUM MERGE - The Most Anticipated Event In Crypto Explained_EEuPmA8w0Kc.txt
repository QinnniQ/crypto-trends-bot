The Ethereum merge, despite being one of the most significant blockchain upgrades in the
history of cryptocurrency, is still a poorly understood topic.
So what is the Ethereum merge? What are its economic implications?
And what are the main merge risks and misconceptions?
You will find answers to these questions and more in this video.
Before we begin, if you want to learn more about decentralized finance and the technology behind
it, make sure you subscribe to my channel, hit the bell icon, and enable all notifications.
Let's start with understanding the motivations behind the merge.
The main purpose of the merge is to transition Ethereum from its current
Proof-of-Work consensus mechanism to the Proof-of-Stake model.
In short, in the Proof-of-Work or POW model, the network is secured by miners
who have to purchase and run the mining hardware.
In this model, the miners consume electricity in exchange for block
issuance and a portion of transaction fees.
In the Proof-of-Stake or POS model, the network is secured by validators
who have to stake ETH in order to validate the network.
In this model, the validators don't consume much electricity.
The transition to POS aims at making Ethereum more energy efficient,
more secure, and lays the groundwork for enabling more scalability with sharding later on.
The move to POS was one of the big milestones in the original Ethereum roadmap,
and research began before the Ethereum network launched.
Instead of transitioning Ethereum to POS in one huge and potentially dangerous change,
the Ethereum researchers and developers decided to split it into two steps.
The first step, launching the beacon chain, was successfully executed in December 2020.
This allowed for creating a separate parallel POS chain that could be tested in production
for a period of time without having any direct impact on the already existing POW network
that secures hundreds of billions of dollars of economic activity.
Another important reason for launching the beacon chain earlier was to give enough time
to stakers so the amount of staked ETH can be sufficiently large to secure the network
at the time of the merge.
When making this video, the beacon chain had over 400,000 validators
and over 13 million ETH actively staking.
The merge is the second step in the transition to POS,
which merges the consensus layer of the beacon chain with the EVM state of the Ethereum POW
chain, more on this later in the video.
The transition to POS aims at reducing the power consumption to secure Ethereum by around 99.95%.
This in turn brings down a lot of arguments about Ethereum, DeFi and NFTs killing the planet.
As a byproduct, it also makes Ethereum ESG compliant, which can be good for more
regulatory-driven institutions that may want to start exploring the Ethereum ecosystem.
This can also make Ethereum more friendly to gamers and NFT artists concerned about
the environmental impact of crypto.
Another motivation for completing the merge is the reduction in the ETH issuance,
as the security of the POW and POS chains is funded by ETH issuance.
After the merge, the POW network will cease to exist,
which will dramatically reduce ETH issuance.
This was named triple halvings, as the issuance drop is similar to three Bitcoin issuance halvings.
On top of all of this, another argument for the merge and the transition to POS
is that Ethereum enthusiasts will be able to secure Ethereum from home.
Being a consensus participant will no longer mainly be for institutions and sophisticated miners.
This should further decentralize the network and make it even more resistant to attacks.
Now that we know the motivations behind the merge,
time to dive a bit deeper into the mechanics of this upgrade.
Let's start with a quick analogy.
Imagine Ethereum as a car driving on the motorway.
The merge aims at transitioning the car's engine from gas to electric.
A key difficulty is to do so without stopping the car.
To achieve this, the Ethereum developers built a separate electric engine
and have tested it with real stake for over one and a half years.
This new electric engine runs in parallel to the existing gas engine.
At the time of the merge, the car will switch to using the electric engine
and will stop using its current gas-fuelled motor.
Doing it in this way, first of all, allows for testing the electric engine in parallel.
The second benefit is that we can swap the engines without stopping the car.
In the case of Ethereum, stopping the car would mean holding the block production,
which would result in no new transactions being appended to the blockchain.
As we can imagine, this would be very disruptive, especially for DeFi,
so Ethereum developers try to avoid it at all costs.
I hope this analogy helps visualizing the merge.
Here's a bit more technical explanation of this upgrade.
The merge is responsible for merging the user state of the Ethereum network
with the PoS beacon chain.
At the moment, before the transition to PoS,
in order to validate the Ethereum network,
the node operators run one of the existing client implementations,
such as Geth, Aragon, or Nethermind.
These client implementations bundle the execution layer, EVM,
and the consensus layer, POW.
In order to transition the Ethereum network to the PoS model smoothly,
the execution and consensus layers are unbundled.
This means that both of these layers can be run separately.
They can also be developed by completely different teams,
specializing in one of the layers.
After the merge, a full node will consist of an execution node
and a consensus node.
There's also an engine API responsible for the communication
between the execution and consensus nodes.
Decoupling the consensus and execution layers
allowed for a quicker initial launch of the beacon chain
without having to worry about the execution layer.
When it comes to consensus layers,
the most popular implementations at the moment are Prism, Lighthouse, and Teku.
The existing client implementations will transition to being execution layer clients
and will work with the consensus layer clients to form a full Ethereum node.
With multiple client implementations on both layers,
there are multiple different combinations of execution and consensus clients.
For example, one validator may prefer to run Prism with Geth.
Another may prefer to run Lighthouse with Nethermind.
With four popular execution clients and five consensus clients,
there are 20 pairwise combinations.
At the time of the merge, execution clients like Geth
will start listing to blocks coming from the PoS chain.
The trigger for this switch will be determined by a new variable
called Terminal Total Difficulty,
which represents the sum of the proof-of-work difficulties
of every block accumulated on the Ethereum POW network.
When the chain accumulates enough proof-of-work to exceed the Terminal Total Difficulty,
nodes switch to following the canonical PoS chain.
It's interesting to notice that for the first time
an Ethereum upgrade will be triggered using Total Difficulty
instead of the usual block height.
This is to avoid an attacker mining low difficulty malicious forks
that would satisfy the block height requirement at the time of the merge
and cause confusion on the final POW block.
After the merge, all applications running on Ethereum
should run exactly as pre-merge with the state and transaction history maintained.
This means that for example,
if we were a liquidity provider on Uniswap before the merge,
after the merge the state will be the same.
Hence, we'll still be providing liquidity on Uniswap.
If we had an open loan on Aave, this loan will still be in place
and users shouldn't notice any changes.
The transition has been going through multiple intensive rounds of testing
that include merging shadow forks and merging testnets.
Shadow forks are copies of an existing Ethereum network.
Merging them helps catch potential issues related to the current state of the network.
These forks are usually abandoned after testing
and the purpose is to expose any potential problems.
Unlike most shadow forks, merged testnets usually persist as POS networks.
This helps developers with testing their applications on a chain
that resembles Ethereum post-merge.
After Robstend and Sepolia,
the last and most used long-lived testnet to merge is Gurley.
After this is successfully executed,
we can expect the announcement of the mainnet merge.
Now, let's discuss one of the interesting topics
which was to a certain extent responsible for postponing the merge,
which is client diversity.
Ethereum, in contrast to a lot of other platforms,
doesn't rely on a single client implementation.
In fact, there are currently four mainstream implementations
Get, NetherMind, Aragon and BESU.
Having multiple implementations allows for quickly switching to a different working client
in case a bug is found in the software we're running.
This makes Ethereum more resilient to attacks,
as even a bug or an intentional exploit introduced by one of the clients
would have limited consequences.
After the merge, client diversity plays an even bigger role.
This is because a bug introduced in the POS network
can have different consequences depending on the staking share it affects.
Let's start with the worst situation.
If the problem affects two-thirds or more of the stake,
this can result in finalizing a bad state root,
not something we want ever to happen.
If the problem affects half or more of the clients,
this can result in the creation of a dominant invalid chain
that won't get finalized, but will be reverted,
better than two-thirds or more, but still pretty bad.
Finally, if the problem affects at least one-third of clients,
no new transactions on the network would get finalized.
Now, knowing these potential outcomes,
we can understand better why client diversity is so important.
Let's assume that 70% of the consensus clients are running Prism as their go-to solution.
In case there is a bug found in this implementation,
the network instantly suffers the worst scenario,
with more than two-thirds of the clients being affected,
and Ethereum is prone to finalizing a bad state.
Now, if Prism has 40% of the network and a similar bug is found,
the Ethereum network would stop finalizing until either the bug is fixed
or different backup clients are spun up, so the network share of Prism goes under one-third.
At the time of making this video,
Prism's market share is at around 40% of the consensus clients.
This is a huge improvement from around 70% in early 2022 and will boost network resilience.
Now, let's discuss some important implications of the merge.
First of all, the block time will not be the same as on the existing POW chain.
The block time on POW is usually quoted as averaging around 13 seconds.
After the merge, time is divided into fixed duration slots of 12 seconds.
Some slots can miss a block, so the average block time will almost certainly be higher
than 12 seconds, though it should be lower than 13 seconds.
Secondly, the merge will also reduce the block time variance,
and on average we can expect faster transaction confirmations.
The merge will also make the distinction between Bitcoin and Ethereum even clearer.
Bitcoin will remain the battle-tested proof-of-work network,
while Ethereum will be fueled by the fairly new proof-of-stake energy-efficient mechanism.
Another important implication is that it will be harder to attack the network,
because of the higher economic security and the power to slash attackers.
And also, good news for gamers, the GPU market will be most likely flooded with
millions of graphic cards, as mining will no longer be needed.
The merge will also most likely decrease the ETH supply over time,
and spike more media interest as a deflationary asset.
Also, another important implication, in total there are around 100 people working on the merge.
After the merge, these people can start working on other improvements,
such as sharding.
There are also a few big misconceptions about the merge.
First of all, the merge does not improve Ethereum scalability,
and it doesn't reduce transaction fees, at least not directly.
The previously mentioned minor reduction in block time can result in a small increase in throughput,
but what is the most important is that the merge and the transition to PoS
lay the groundwork for further scalability improvements
that will be delivered in the subsequent network upgrades.
Secondly, the merge doesn't enable withdrawals of ETH from the validators straight away.
This will be enabled in one of the next hard forks after the merge.
It's worth mentioning that transaction fees collected after the merge
have their own recipient ETH address on the EVM,
so ETH accumulated from the transaction fees will be immediately available.
Also, as we know from the previous section,
Ethereum doesn't have to stop to enable the transition.
This is yet another common misconception.
Another common misconception is that there will be another ETH token on the beacon chain
or for the Ethereum 2.0.
The last misconception worth mentioning
is that ETH supply will keep decreasing and trend towards 0.
This is also incorrect, as the ETH supply will fight an equilibrium
based on the network demand, specifically the ETH burn rate from transaction fees
and the ETH issuance.
This equilibrium can be established on different levels and change over time,
but it will never reach 0.
The current estimates predict the ETH supply to peak around 120 million ETH at the merge
and find a long-term equilibrium anywhere between 60 million to 100 million ETH
in a few decades.
Hopefully this clears up some of these common misconceptions.
The merge, like any other complicated technology upgrade,
doesn't come without any risks.
Here are some potential risks that are worth keeping in mind.
Most of them are related to the transition to POS rather than the merge itself,
but they are still worth mentioning.
After the merge, validators proposing the next block will be known ahead of time
as part of the public selection process.
This makes proposers vulnerable to networking denial of service attacks.
As an example, if the attacker knows they are one of the next proposers in line,
they can try to dose the current proposers,
causing them to lose their slots and not include any high-value transactions
that now can be picked up by the attacker.
The most popular solution to this problem at the moment
is a single secret leader election that uses clever cryptography
to prevent the attacker from knowing who the next proposer is
while still providing this information to the actual proposer.
There are also centralization risks that come with the concentration of stake
in pools such as Lido and Coinbase.
This can lead to attacks such as censorship or extortion.
In the case of Lido, there is also governance takeover risk
and smart contract risk.
One of the interesting solutions suggested by the Lido community
was to allow people who deposit their ETH to Lido
and receive SDE to veto any potential dangerous proposals.
It's great to see the Ethereum community anticipating
a lot of potential risks associated with the merge and the transition to POS
and already finding some potential solutions.
These solutions, even if not implemented straight away,
can be added to the network in one of the following hardworks,
making it more resilient in the future.
The Ethereum merge is clearly one of the biggest and most anticipated upgrades
in the history of the cryptocurrency space.
When it comes to the date of the merge, at the moment,
most people predict it to happen around September 2022.
This should be possible if there are no major issues
found during the currently testnet merge.
Despite a few potential risks, the researchers and developers
have been spending countless hours making sure there are no surprises
during the mainnet merge.
After the merge, Ethereum will become more secure and sustainable.
It will also be perfectly positioned for the next big upgrades,
the surge, the verge, the purge and the splurge.
We will learn more about this in the following videos,
but it's worth mentioning that all of these subsequent phases
can be worked on in parallel.
So what do you think about the merge
and what are other topics that you're interested in at the moment?
Comment down below.
And as always, if you enjoyed this video, smash the like button,
subscribe to my channel and check out Phenomatix on Patreon
to join our community of DeFi enthusiasts.
Thanks for watching!
