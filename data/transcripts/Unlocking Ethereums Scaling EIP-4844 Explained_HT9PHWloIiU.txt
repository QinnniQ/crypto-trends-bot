Ethereum scaling has been a hotly debated topic for a while. Layer 2 solutions have been at the
forefront of this battle, offering a way to handle transactions off the main chain to alleviate
congestion and reduce fees. But there's a catch. Even L2s face limitations that hinder their
efficiency and scalability. EIP 4844 is the next step in increasing L2's potential and aligning
Ethereum with its scaling roadmap. So what is EIP 4844 all about? How exactly does it help with
scaling L2s? What new possibilities does it unlock? And is it true that it can reduce
transaction fees on L2s by over 90%? You will find answers to these questions and more in this video.
Before we dive in, if you want to learn more about decentralized finance and the technology
behind it, make sure you subscribe to the channel, hit the bell icon and enable all notifications.
As a reminder, EIP stands for Ethereum Improvement Proposal, a process through which developers can
suggest changes to the Ethereum protocol. EIP 4844 specifically proposes a new type of transaction
that can significantly enhance the way data is handled and processed on Ethereum. You might have
also heard the name proto-dunk sharding, which is now used interchangeably with EIP 4844.
Proto-dunk sharding is an initial implementation of full dunk sharding. It lays the foundation
for further scaling with dunk sharding in the future. This is achieved by implementing most
of the logic and scaffolding that make up a full dunk sharding spec without implementing the actual
data sharding. Doing it this way allows for an easier and less disruptive transition that can
take place over multiple network upgrades without introducing too much risk to Ethereum in one
upgrade. The core idea behind EIP 4844 is to support the roll-up-centric future of Ethereum.
Roll-ups are layer 2 solutions that process transactions outside the main Ethereum chain,
but inherit Ethereum's security. EIP 4844 aims to make roll-ups cheaper and more efficient
by introducing a new type of transaction that can be leveraged by roll-ups to allow them to
decrease their operational costs by an order of magnitude. This in turn will allow applications
built on top of roll-ups to be much cheaper to use and increase the adoption of the whole Ethereum
ecosystem. Imagine doing a DEX swap on one of the roll-ups. If the current cost of doing such
an operation is let's say $1, it will most likely decrease to around 10 cents post EIP 4844. The
impact in this example has some caveats though that we will cover later in the video. EIP 4844
together with a few other EIPs will be included in the upcoming DENKUN network upgrade. Now let's
have a closer look at how EIP 4844 works. EIP 4844 introduces a new kind of transaction type
to Ethereum which accepts blobs of data to be persisted in the beacon node for a short period
of time. These changes are forward compatible with Ethereum's scaling roadmap and blobs are
small enough to keep disk use manageable. Blob transactions are in the same format in which they
are expected to exist in the final DENK sharding specification. This comes alongside a blob fee
market ensuring that the blob space is used efficiently and remains economically viable.
This is achieved by introducing blob gas as a new type of gas. It is independent of normal gas. For
now only blobs are priced in blob gas. Blobs are 4096 filled elements of 32 bytes each. The blob
cap per block is controlled by the max blobs per block parameter. The cap can start low and grow
over multiple network upgrades. Initially DENKUN is targeting six blobs per block. 4096 times 32
bytes times six per block equals 0.75 megabytes per block. Blobs are persisted in beacon nodes
consensus layer not in the execution layer. Future sharding work only requires changes to the beacon
node enabling the execution layer to work on other initiatives in parallel. Blobs are short-lived
and pruned after around two weeks. They are available long enough for all actors of a roll-up to
retrieve it but short enough to keep disk use manageable. This allows blobs to be priced
cheaper than call data which is data stored in history forever. The cryptographic backbone of
EIP4844 is KZG commitments. Without getting too deep into the weeds they allow for efficient and
secure data inclusion crucial for the functionality of blob transactions. This way only commitments to
blobs have to be interpreted by the EVM in the execution layer and not the blobs themselves.
To generate the shared secret for KZG commitments a browser-based widely distributed ceremony was
run so all ethereum network participants had the chance to ensure it was generated correctly
and securely. EIP4844 adds a new pre-compile called point evaluation that verifies a KZG
proof which claims that a blob represented by a commitment evaluates to a given value at a given
point. So how exactly does this all apply to roll-ups? With the new blob space roll-ups will
be able to put their block data into blobs rather than the more expensive call data that has been
used for this purpose so far. Leveraging a short-lived blob space in the consensus layer
is possible as roll-ups need data to be available only long enough to ensure honest actors can
construct the roll-up space. In the case of optimistic roll-ups like Optimism or Arbitrum
they only need to provide the underlying data for as long as the fraud challenge window is open.
The fraud proof can verify the transition in smaller steps loading at most a few values of
the blob at a time through call data. ZK roll-up would provide two commitments to their transaction
or state delta data. The blob commitment and the ZK roll-up's own commitment using whatever proof
system the roll-up uses internally. They would also use a proof of equivalence protocol using
the previously mentioned point evaluation pre-compile to prove that the two commitments
refer to the same data. The impact of EIP 4844 on the Ethereum ecosystem cannot be overstated.
For starters, it dramatically improves the scalability of layer 2 solutions,
reducing their operational costs and making them more competitive with other cheap alternative
blockchains. The reduction in operational cost is possible as the vast majority of the costs
currently incurred by roll-ups is due to the fees paid for call data. Moreover, EIP 4844 lays the
groundwork for even further scaling through full dunk sharding. This future upgrade will split the
Ethereum network into multiple data shards, each capable of storing data independently,
further enhancing the network's capacity. With operational costs coming down, we could witness
a wave of new layer 2 solutions emerging, attracting developers to build innovative
applications on roll-ups. When it comes to the decrease in transaction costs on roll-ups,
illustrated by our previous DEX swap example, the situation is complex.
Assuming the demand for roll-ups remains constant post EIP 4844, we could indeed anticipate a
significant reduction in costs for users. However, improvements in scalability can lead to unforeseen
economic effects. For instance, lower transaction fees for end users might drive more people to
use roll-ups, subsequently increasing the demand on network resources and potentially raising
transaction costs. One thing is certain, even if the main result is the increase in transaction
throughput and the cost of transactions remains the same, EIP 4844 lays the foundation for even
greater scalability in the future that will eventually result in cheaper transactions for
the users. Excitingly, the Ethereum community has already completed testing EIP 4844 on various
testnets, with a mainnet launch expected on the 13th of March. This is a monumental step towards
achieving unparalleled scalability for Ethereum. We can already see most of the major L2s committing
to start using the new blob space as soon as the DENKUN upgrade happens. In conclusion, EIP 4844
is more than just an upgrade, it's a pivotal moment in Ethereum's journey towards becoming a
more scalable, efficient and user-friendly blockchain. By reducing the costs and increasing
the efficiency of layer 2 solutions, Ethereum is set to solidify its position as the leading
platform for decentralized applications. So, what do you think about EIP 4844 and Ethereum's
scalability roadmap? Comment down below. And as always, if you enjoyed this video,
smash the like button, subscribe to my channel and check out Phinematics on Patreon to join our
community. Thanks for watching!
